import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
    systemInstruction: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {  
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"location\": \"Las Vegas\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"duration\": \"3 Days\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $70 per night (depending on season and availability)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/78/48/6a/exterior.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1348,\n        \"longitude\": -115.1658\n      },\n      \"rating\": 3.0,\n      \"description\": \"Budget-friendly option on the Strip with its own amusement park, Adventuredome. Expect basic rooms but good location and entertainment.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$40 - $80 per night (depending on season and availability)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/7f/1f/5d/the-strat-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1465,\n        \"longitude\": -115.1557\n      },\n      \"rating\": 3.5,\n      \"description\": \"Offers affordable rooms and the thrill of its iconic tower with rides and observation deck (extra cost). Further north on the Strip but easily accessible.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$45 - $90 per night (depending on season and availability)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0c/7b/c8/b6/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 3.5,\n      \"description\": \"Medieval-themed hotel with affordable rooms and a good location at the south end of the Strip. Offers shows and dining options.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip and Free Attractions\",\n      \"plan\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a photo opportunity.  Free to visit.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/Welcome_to_Las_Vegas_sign.JPG/1280px-Welcome_to_Las_Vegas_sign.JPG\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1734\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"Early morning or late afternoon to avoid crowds and heat\",\n          \"timeTravel\": \"Depends on hotel location - usually a short ride or walk from south Strip hotels\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning floral displays that change seasonally. Free to enter.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-chinese-new-year-2023-main.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"bestTimeToVisit\": \"Weekdays mornings to avoid large crowds.\",\n          \"timeTravel\": \"Short walk or tram ride from south Strip hotels.  Approximately 10-15 minutes from Welcome Sign.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountain Show\",\n          \"placeDetails\": \"Spectacular water show choreographed to music. Free to watch.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2017/01/bellagio-fountains-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"bestTimeToVisit\": \"Evening for optimal viewing with lights. Check show schedule online.\",\n          \"timeTravel\": \"Adjacent to the Conservatory, so very short walk.\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Soak in the atmosphere, people-watch, and enjoy the free sights and sounds.\",\n          \"placeImageUrl\": \"https://www.planetware.com/wpimages/2019/11/usa-las-vegas-strip-best-places-to-visit-the-las-vegas-strip.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"bestTimeToVisit\": \"Evening for cooler temperatures and vibrant atmosphere.\",\n          \"timeTravel\": \"Flexible - Walk as little or as much as you like along the Strip.\"\n        },\n        {\n          \"placeName\": \"M&M's World / Coca-Cola Store\",\n          \"placeDetails\": \"Fun, multi-story stores offering unique souvenirs and photo opportunities.  No entry fee but expect to spend on purchases.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/15/e0/30/5b/m-m-s-world.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1091,\n            \"longitude\": -115.1718\n          },\n          \"ticketPricing\": \"Free Entry (purchases extra)\",\n          \"rating\": 4.2,\n          \"bestTimeToVisit\": \"Anytime, but expect crowds during peak hours.\",\n          \"timeTravel\": \"Walk along the Strip - easily accessible.\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light and sound show on a pedestrian mall in Old Las Vegas.  Free to enter.\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2023/03/fremont-street-experience-homepage-video-scaled.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1420\n          },\n          \"ticketPricing\": \"Free (zip line and other attractions extra)\",\n          \"rating\": 4.6,\n          \"bestTimeToVisit\": \"Evening for the light shows.\",\n          \"timeTravel\": \"Approximately 15-30 minutes drive from the Strip (depending on traffic). Consider using a rideshare or bus.\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Open-air shopping center built from shipping containers. Unique shops and restaurants.\",\n          \"placeImageUrl\": \"https://downtowncontainerpark.com/wp-content/uploads/2024/04/DCP_Website_Main.png\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1683,\n            \"longitude\": -115.1403\n          },\n          \"ticketPricing\": \"Free entry (purchases extra)\",\n          \"rating\": 4.3,\n          \"bestTimeToVisit\": \"Late afternoon/Evening - especially good with kids (playground).\",\n          \"timeTravel\": \"Short walk from Fremont Street Experience.\"\n        },\n        {\n          \"placeName\": \"Golden Nugget\",\n          \"placeDetails\": \"Historic casino with the Hand of Faith (largest gold nugget ever found).\",\n          \"placeImageUrl\": \"https://www.goldennugget.com/las-vegas/wp-content/uploads/sites/3/2021/12/goldennugget_2020_gallery_exterior_1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1695,\n            \"longitude\": -115.1437\n          },\n          \"ticketPricing\": \"Free to enter (casino games extra)\",\n          \"rating\": 4.0,\n          \"bestTimeToVisit\": \"Anytime.\",\n          \"timeTravel\": \"Right on Fremont Street, easily accessible.\"\n        },\n         {\n          \"placeName\": \"Eat Cheap: Pizza Rock\",\n          \"placeDetails\": \"Highly rated pizza restaurant with affordable slices during happy hour.\",\n          \"placeImageUrl\": \"https://s3-media0.fl.yelpcdn.com/bphoto/54q4d4L6gK736J8G9gYJ3w/o.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1692,\n            \"longitude\": -115.1425\n          },\n          \"ticketPricing\": \"$5-$15\",\n          \"rating\": 4.3,\n          \"bestTimeToVisit\": \"Happy Hour.\",\n          \"timeTravel\": \"In Fremont Street.\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller and Ethel M Chocolate Factory\",\n      \"plan\": [\n        {\n          \"placeName\": \"The High Roller Observation Wheel\",\n          \"placeDetails\": \"Giant Observation Wheel with excellent views of the strip\",\n          \"placeImageUrl\": \"https://caesars.com/content/dam/caesars/destinations/las-vegas/things-to-do/high-roller-observation-wheel/overview/clv_highroller_overview_hero_1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1158,\n            \"longitude\": -115.1698\n          },\n          \"ticketPricing\": \"$25-37\",\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"Sunset\",\n          \"timeTravel\": \"Easy to get to, central strip.\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory & Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and beautiful cactus garden.\",\n          \"placeImageUrl\": \"https://www.ethelm.com/on/demandware.static/-/Sites-ethelm-Library/default/dw69ef0062/images/1820-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0255,\n            \"longitude\": -115.1001\n          },\n          \"ticketPricing\": \"Free (Chocolate for purchase)\",\n          \"rating\": 4.4,\n          \"bestTimeToVisit\": \"Morning or afternoon.\",\n          \"timeTravel\": \"Requires a car, taxi or rideshare from the Strip. Approximately 15-20 minutes drive.\"\n        },\n        {\n          \"placeName\": \"Linq Promenade\",\n          \"placeDetails\": \"Shopping, dining, and entertainment district.  Home to the High Roller.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5ad8a068cb467f5b6711c72a/16:9/w_2560%2Cc_limit/LINQ-Promenade_LINQ-Promenade-Main-Entrance-North_1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1702\n          },\n          \"ticketPricing\": \"Free to enter (activities and dining extra)\",\n          \"rating\": 4.2,\n          \"bestTimeToVisit\": \"Evening for a lively atmosphere.\",\n          \"timeTravel\": \"Located right next to High Roller.\"\n        },\n        {\n          \"placeName\": \"Explore more free options!\",\n          \"placeDetails\": \"Many hotels offer free attractions, like the Wildlife Habitat at the Flamingo or the Volcano at the Mirage. Research beforehand based on interests.\",\n          \"placeImageUrl\": \"https://i.insider.com/5dd40a70fd91b400130858e8?width=700\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"bestTimeToVisit\": \"Varies based on attraction\",\n          \"timeTravel\": \"Varies based on attraction location.\"\n        }\n      ]\n    }\n  },\n  \"notes\": \"This is a suggested itinerary and can be customized based on your interests.  Prices are approximate and can vary.  Consider purchasing a multi-day bus pass for affordable transportation.  Take advantage of free activities and happy hour deals to stay within budget.  Walking is the best way to see the Strip, but be prepared for long distances and hot weather (especially in summer).\"\n}\n```"},
          ],
        },
      ],
    });